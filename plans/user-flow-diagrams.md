# Диаграммы пользовательских потоков (User Flow)

## Основные пользовательские сценарии

### 1. Поток регистрации и первого использования

```mermaid
flowchart TD
    A[Главная страница] --> B{Пользователь авторизован?}
    B -->|Нет| C[Кнопка Войти/Регистрация]
    B -->|Да| D[Персонализированная главная]
    
    C --> E[Форма регистрации]
    E --> F[Ввод email + пароль + имя]
    F --> G[Подтверждение email]
    G --> H[Успешная регистрация]
    H --> I[Добро пожаловать! Онбординг]
    I --> J[Выбор языка интерфейса]
    J --> K[Рекомендации жанров]
    K --> L[Добавление первых закладок]
    L --> D
    
    D --> M[Просмотр рекомендаций]
    M --> N[Выбор новеллы для чтения]
    N --> O[Чтение первой главы]
```

### 2. Поток поиска и чтения новелл

```mermaid
flowchart TD
    A[Главная/Каталог] --> B{Способ поиска}
    B -->|Поиск по названию| C[Строка поиска]
    B -->|Фильтры| D[Страница каталога]
    B -->|Топы/Рекомендации| E[Виждеты главной]
    
    C --> F[Результаты поиска]
    D --> G[Применение фильтров жанр/статус/сортировка]
    G --> F
    E --> H[Просмотр топовых новелл]
    H --> F
    
    F --> I[Выбор новеллы]
    I --> J[Страница новеллы]
    J --> K{Действие}
    K -->|Читать| L[Выбор главы]
    K -->|В закладки| M[Добавление в список]
    K -->|Комментарий| N[Написание отзыва]
    
    L --> O[Ридер главы]
    O --> P[Чтение контента]
    P --> Q{Конец главы}
    Q -->|Следующая глава| R[Автопереход к следующей]
    Q -->|Завершить| S[Сохранение прогресса]
    Q -->|Комментировать| T[Комментарии к главе]
    
    M --> U[Выбор списка: Читаю/Планы/и т.д.]
    N --> V[Форма комментария]
    T --> V
```

### 3. Экономический поток (тикеты и голосования)

```mermaid
flowchart TD
    A[Daily Vote получен в 03:00] --> B[Уведомление о билете]
    B --> C[Переход на страницу голосований]
    C --> D[Просмотр предложенных новелл]
    D --> E{Выбор действия}
    
    E -->|Голосовать| F[Трата Daily Vote]
    E -->|Предложить новеллу| G[Проверка Novel Request]
    
    F --> H[Новелла поднимается в топе]
    H --> I[Ожидание автовыбора каждые X часов]
    
    G --> J{Есть Novel Request?}
    J -->|Да| K[Форма предложения новеллы]
    J -->|Нет| L[Покупка подписки или повышение уровня]
    
    K --> M[Заполнение метаданных]
    M --> N[Отправка на модерацию]
    N --> O[Модерация одобрена]
    O --> P[Новелла добавлена в пул голосований]
    P --> H
    
    L --> Q[Выбор тарифа подписки]
    Q --> R[Оплата]
    R --> S[Получение бонусов и тикетов]
    S --> J
```

### 4. Поток создания коллекций

```mermaid
flowchart TD
    A[Профиль пользователя] --> B[Вкладка Коллекции]
    B --> C[Создать новую коллекцию]
    C --> D[Форма: название, описание]
    D --> E[Поиск новелл для добавления]
    E --> F[Выбор новелл + комментарии к ним]
    F --> G[Сохранение коллекции]
    G --> H[Публикация коллекции]
    H --> I[Коллекция доступна другим пользователям]
    I --> J[Другие пользователи могут голосовать за коллекцию]
    J --> K[Популярные коллекции отображаются на главной]
```

### 5. Поток модерации и администрирования

```mermaid
flowchart TD
    A[Администратор/Модератор заходит в систему] --> B[Админ-панель]
    B --> C{Тип задачи}
    
    C -->|Контент-менеджмент| D[Управление новеллами]
    C -->|Модерация| E[Очередь модерации]
    C -->|Экономика| F[Управление билетами и подписками]
    
    D --> G[Добавление новой новеллы]
    G --> H[Загрузка обложки]
    H --> I[Заполнение метаданных на всех языках]
    I --> J[Добавление глав]
    J --> K[Публикация]
    
    E --> L{Тип модерации}
    L -->|Комментарии| M[Рассмотрение жалоб]
    L -->|Вики-правки| N[Одобрение изменений описаний]
    L -->|Предложения новелл| O[Проверка предложенного контента]
    
    M --> P[Действие: бан/предупреждение/удаление]
    N --> Q[Применение изменений или отклонение]
    O --> R[Одобрение для голосования или отклонение]
    
    F --> S[Управление подписками пользователей]
    S --> T[Ручная выдача/списание тикетов]
    T --> U[Просмотр статистики экономики]
```

### 6. Поток Premium пользователя

```mermaid
flowchart TD
    A[Premium пользователь] --> B{Уникальные функции}
    
    B -->|Редактирование| C[Кнопка Редактировать на странице новеллы]
    B -->|Бонус билеты| D[Получение ежемесячных тикетов]
    B -->|Нет рекламы| E[Чтение без рекламных блоков]
    B -->|Множитель| F[x2 множитель для Daily Vote]
    
    C --> G[Форма редактирования метаданных]
    G --> H[Изменение описания/тегов/жанров]
    H --> I[Отправка на модерацию]
    I --> J[Ожидание одобрения модератором]
    J --> K[Применение изменений или отклонение с причиной]
    
    D --> L[Translation Ticket + Novel Request]
    L --> M[Заказ перевода глав вне очереди]
    
    F --> N[При голосовании засчитывается как 2 голоса]
    N --> O[Больше влияния на выбор новелл]
```

## Критические точки UX

### 1. Онбординг новых пользователей
- **Проблема**: Пользователь может быть перегружен количеством функций
- **Решение**: Пошаговый тур с фокусом на основные функции (поиск → чтение → закладки)

### 2. Экономическая система
- **Проблема**: Сложность понимания тикетов и их использования
- **Решение**: Четкие объяснения + туториал + визуальные подсказки

### 3. Мультиязычность
- **Проблема**: Переключение языков может сбросить контекст
- **Решение**: Сохранение текущей страницы при смене языка + локализация URL

### 4. Мобильная версия
- **Проблема**: Сложная навигация на маленьких экранах
- **Решение**: Mobile-first подход + упрощенная навигация + жесты

## Метрики успеха для каждого потока

### Регистрация и активация
- Конверсия регистрации: >15%
- Завершение онбординга: >70%
- Активность в первые 7 дней: >40%

### Чтение контента
- Время чтения за сессию: >15 минут
- Возврат к чтению в течение недели: >60%
- Среднее количество прочитанных глав за месяц: >10

### Экономическая активность  
- Использование Daily Vote: >80% активных пользователей
- Конверсия в подписку: >5%
- Активность в голосованиях: >30% пользователей

### Комьюнити-функции
- Пользователи с закладками: >90%
- Пользователи оставляющие комментарии: >25%
- Создание коллекций: >10% активных пользователей

Эти потоки помогут разработчикам и дизайнерам понять, как пользователи будут взаимодействовать с платформой, и выявить потенциальные проблемы на раннем этапе.